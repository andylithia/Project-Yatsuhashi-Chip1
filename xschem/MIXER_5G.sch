v {xschem version=3.0.0 file_version=1.2 }
G {}
K {}
V {}
S {}
E {}
T {vvvv This should give you 400MHz} 550 -1250 0 0 0.4 0.4 {}
N 600 -970 600 -910 {
lab=vdl}
N 600 -910 850 -910 {
lab=vdl}
N 850 -970 850 -910 {
lab=vdl}
N 730 -810 730 -800 {
lab=vdl}
N 600 -1000 620 -1000 {
lab=GND}
N 620 -1000 620 -890 {
lab=GND}
N 730 -910 730 -870 {
lab=vdl}
N 620 -890 830 -890 {
lab=GND}
N 830 -1000 830 -890 {
lab=GND}
N 830 -1000 850 -1000 {
lab=GND}
N 770 -890 770 -770 {
lab=GND}
N 1370 -1130 1370 -1100 {
lab=von}
N 1310 -1130 1310 -1110 {
lab=von}
N 1310 -1110 1370 -1110 {
lab=von}
N 600 -1130 600 -1100 {
lab=vop}
N 540 -1130 540 -1110 {
lab=vop}
N 540 -1110 600 -1110 {
lab=vop}
N 540 -1210 540 -1190 {
lab=#net1}
N 540 -1210 850 -1210 {
lab=#net1}
N 1370 -1210 1370 -1190 {
lab=#net1}
N 1310 -1210 1310 -1190 {
lab=#net1}
N 600 -1210 600 -1190 {
lab=#net1}
N 360 -1140 360 -880 {
lab=#net1}
N 360 -1210 540 -1210 {
lab=#net1}
N 360 -820 360 -670 {
lab=GND}
N 430 -1000 430 -880 {
lab=LOn}
N 430 -1000 560 -1000 {
lab=LOn}
N 890 -1000 960 -1000 {
lab=LOp}
N 430 -820 430 -670 {
lab=GND}
N 1120 -970 1120 -910 {
lab=#net2}
N 1120 -910 1370 -910 {
lab=#net2}
N 1370 -970 1370 -910 {
lab=#net2}
N 1250 -810 1250 -800 {
lab=#net2}
N 1120 -1000 1140 -1000 {
lab=GND}
N 1140 -1000 1140 -890 {
lab=GND}
N 1250 -910 1250 -870 {
lab=#net2}
N 1140 -890 1350 -890 {
lab=GND}
N 1350 -1000 1350 -890 {
lab=GND}
N 1350 -1000 1370 -1000 {
lab=GND}
N 1290 -890 1290 -770 {
lab=GND}
N 1410 -1000 1480 -1000 {
lab=LOn}
N 960 -1000 1080 -1000 {
lab=LOp}
N 1480 -1000 1480 -940 {
lab=LOn}
N 430 -940 1480 -940 {
lab=LOn}
N 960 -1000 960 -880 {
lab=LOp}
N 960 -820 960 -670 {
lab=GND}
N 850 -1210 1370 -1210 {
lab=#net1}
N 1370 -1110 1450 -1110 {
lab=von}
N 1370 -1100 1370 -1030 {
lab=von}
N 600 -1100 600 -1030 {
lab=vop}
N 850 -1060 850 -1030 {
lab=von}
N 850 -1060 1310 -1110 {
lab=von}
N 1120 -1060 1120 -1030 {
lab=vop}
N 600 -1110 1120 -1060 {
lab=vop}
N 360 -1210 360 -1140 {
lab=#net1}
N 450 -1110 540 -1110 {
lab=vop}
N 1250 -560 1250 -550 {
lab=GND}
N 730 -560 730 -550 {
lab=GND}
N 560 -820 560 -800 {
lab=#net3}
N 560 -820 610 -820 {
lab=#net3}
N 610 -820 610 -770 {
lab=#net3}
N 610 -770 630 -770 {
lab=#net3}
N 1080 -820 1080 -800 {
lab=#net4}
N 1080 -820 1140 -820 {
lab=#net4}
N 1140 -820 1140 -770 {
lab=#net4}
N 1140 -770 1150 -770 {
lab=#net4}
N 730 -710 770 -710 {
lab=GND}
N 770 -770 770 -710 {
lab=GND}
N 730 -680 730 -620 {
lab=#net5}
N 770 -710 770 -550 {
lab=GND}
N 730 -550 770 -550 {
lab=GND}
N 690 -770 690 -710 {
lab=vgp}
N 1210 -770 1210 -710 {
lab=vgn}
N 1290 -770 1290 -710 {
lab=GND}
N 1250 -710 1290 -710 {
lab=GND}
N 1250 -680 1250 -620 {
lab=#net6}
N 1290 -710 1290 -550 {
lab=GND}
N 1250 -550 1290 -550 {
lab=GND}
N 1080 -550 1250 -550 {
lab=GND}
N 960 -670 960 -550 {
lab=GND}
N 960 -550 1080 -550 {
lab=GND}
N 560 -550 730 -550 {
lab=GND}
N 730 -550 770 -550 {
lab=GND}
N 770 -550 960 -550 {
lab=GND}
N 430 -670 430 -550 {
lab=GND}
N 430 -550 560 -550 {
lab=GND}
N 360 -670 360 -560 {
lab=GND}
N 360 -560 360 -550 {
lab=GND}
N 360 -550 430 -550 {
lab=GND}
N 730 -800 730 -740 {
lab=vdl}
N 1250 -800 1250 -740 {
lab=#net2}
N 680 -1070 680 -1050 {
lab=#net7}
N 680 -1070 730 -1070 {
lab=#net7}
N 730 -1070 730 -1030 {
lab=#net7}
N 730 -970 730 -910 {
lab=vdl}
N 730 -1120 730 -1070 {
lab=#net7}
N 730 -1210 730 -1180 {
lab=#net1}
N 1200 -1070 1200 -1050 {
lab=#net8}
N 1200 -1070 1250 -1070 {
lab=#net8}
N 1250 -1070 1250 -1030 {
lab=#net8}
N 1250 -970 1250 -910 {
lab=#net2}
N 1250 -1120 1250 -1070 {
lab=#net8}
N 1250 -1210 1250 -1180 {
lab=#net1}
N 730 -870 730 -810 {
lab=vdl}
N 1250 -870 1250 -810 {
lab=#net2}
N 560 -640 560 -550 {
lab=GND}
N 560 -740 560 -700 {
lab=vsp}
N 1080 -640 1080 -550 {
lab=GND}
N 1080 -740 1080 -700 {
lab=vsn}
C {devices/code_shown.sym} 1540 -980 0 0 {name=s2 only_toplevel=false value="
.subckt sky130_fd_pr__rf_nfet_01v8_bM04W5p00L0p15_ext DRAIN GATE SOURCE SUBSTRATE
X0 DRAIN GATE SOURCE SUBSTRATE sky130_fd_pr__nfet_01v8 ad=2.828e+12p pd=2.132e+07u as=4.242e+12p ps=3.198e+07u w=5.05e+06u l=150000u
X1 SOURCE SUBSTRATE SUBSTRATE SUBSTRATE sky130_fd_pr__nfet_01v8 ad=0p pd=0u as=3.03e+12p ps=2.14e+07u w=5.05e+06u l=150000u
X2 SOURCE GATE DRAIN SUBSTRATE sky130_fd_pr__nfet_01v8 ad=0p pd=0u as=0p ps=0u w=5.05e+06u l=150000u
X3 DRAIN GATE SOURCE SUBSTRATE sky130_fd_pr__nfet_01v8 ad=0p pd=0u as=0p ps=0u w=5.05e+06u l=150000u
X4 SUBSTRATE SUBSTRATE SOURCE SUBSTRATE sky130_fd_pr__nfet_01v8 ad=0p pd=0u as=0p ps=0u w=5.05e+06u l=150000u
X5 SOURCE GATE DRAIN SUBSTRATE sky130_fd_pr__nfet_01v8 ad=0p pd=0u as=0p ps=0u w=5.05e+06u l=150000u
.ends
* .options savecurrents
.tran 0.1ps 20ns
.control
run
display
let vo = v(vop)-v(von)
let vs = v(vsp)-v(vsn)
let vg = v(vgp)-v(vgn)
plot v(von) v(vop)
plot vo
plot vs
plot vg
fft vo vs vg
plot db(vo) db(vs)

.endc
"}
C {devices/code.sym} 1520 -1150 0 0 {name=TT_MODELS only_toplevel=false
format="tcleval(@value )" value=".lib \\\\$::SKYWATER_MODELS\\\\/sky130.lib.spice tt
* .include \\\\$::PDKPATH\\\\/libs.ref/sky130_fd_sc_hvl/spice/sky130_fd_sc_hvl.spice
"}
C {devices/nmos4.sym} 580 -1000 0 0 {name=XM1 model=sky130_fd_pr__rf_nfet_01v8_bM04W5p00L0p15_ext w=5.05u l=0.15u m=3}
C {devices/nmos4.sym} 870 -1000 0 1 {name=XM2 model=sky130_fd_pr__rf_nfet_01v8_bM04W5p00L0p15_ext w=5.05u l=0.15u m=3}
C {devices/gnd.sym} 730 -550 0 0 {name=l1 lab=GND}
C {devices/capa.sym} 600 -1160 0 0 {name=C1
m=1
value=0.08p
footprint=1206
device="ceramic capacitor"}
C {devices/res.sym} 540 -1160 0 0 {name=R1
value=2k
footprint=1206
device=resistor
m=1}
C {devices/capa.sym} 1370 -1160 0 0 {name=C2
m=1
value=0.08p
footprint=1206
device="ceramic capacitor"}
C {devices/res.sym} 1310 -1160 0 0 {name=R2
value=2k
footprint=1206
device=resistor
m=1}
C {devices/vsource.sym} 360 -850 0 0 {name=V1 value=1.8
}
C {devices/vsource.sym} 430 -850 0 0 {name=V2 value="SIN(0.9 0.9 5G 0 0 180)"
}
C {devices/vsource.sym} 960 -850 0 0 {name=V3 value="SIN(0.9 0.9 5G 0 0 0)"
}
C {devices/lab_wire.sym} 480 -1000 0 0 {name=l2 sig_type=std_logic lab=LOn}
C {devices/lab_wire.sym} 940 -1000 0 0 {name=l3 sig_type=std_logic lab=LOp}
C {devices/vsource.sym} 560 -670 0 0 {name=V4 value="SIN(0.9 0.01 5.1G 0 0 0)"
}
C {devices/lab_wire.sym} 1450 -1110 0 0 {name=l4 sig_type=std_logic lab=von}
C {devices/nmos4.sym} 1100 -1000 0 0 {name=XM4 model=sky130_fd_pr__rf_nfet_01v8_bM04W5p00L0p15_ext w=5.05u l=0.15u m=3}
C {devices/nmos4.sym} 1390 -1000 0 1 {name=XM6 model=sky130_fd_pr__rf_nfet_01v8_bM04W5p00L0p15_ext w=5.05u l=0.15u m=3}
C {devices/gnd.sym} 1250 -550 0 0 {name=l5 lab=GND}
C {devices/vsource.sym} 1080 -670 0 0 {name=V5 value="SIN(0.9 0.01 5.1G 0 0 180)"
}
C {devices/lab_wire.sym} 480 -1110 0 0 {name=l7 sig_type=std_logic lab=vop}
C {devices/lab_wire.sym} 710 -910 0 0 {name=l6 sig_type=std_logic lab=vdl}
C {devices/ind.sym} 660 -770 1 0 {name=L3
m=1
value=6.5n
footprint=1206
device=inductor}
C {devices/ind.sym} 1180 -770 1 0 {name=L1
m=1
value=6.5n
footprint=1206
device=inductor}
C {devices/ind.sym} 1250 -590 0 0 {name=L2
m=1
value=0.5n
footprint=1206
device=inductor}
C {devices/ind.sym} 730 -590 0 0 {name=L4
m=1
value=0.5n
footprint=1206
device=inductor}
C {devices/res.sym} 560 -770 0 0 {name=R3
value=50
footprint=1206
device=resistor
m=1}
C {devices/res.sym} 1080 -770 0 0 {name=R4
value=50
footprint=1206
device=resistor
m=1}
C {devices/nmos4.sym} 710 -710 0 0 {name=XM7 model=sky130_fd_pr__rf_nfet_01v8_bM04W5p00L0p15_ext w=5.05u l=0.15u m=6}
C {devices/nmos4.sym} 1230 -710 0 0 {name=XM8 model=sky130_fd_pr__rf_nfet_01v8_bM04W5p00L0p15_ext w=5.05u l=0.15u m=6}
C {devices/ind.sym} 730 -1000 0 0 {name=L7
m=1
value=1n
footprint=1206
device=inductor}
C {devices/capa.sym} 680 -1020 0 0 {name=C3
m=1
value=100f
footprint=1206
device="ceramic capacitor"}
C {devices/gnd.sym} 680 -990 0 0 {name=l8 lab=GND}
C {devices/res.sym} 730 -1150 0 0 {name=R5
value=200
footprint=1206
device=resistor
m=1}
C {devices/ind.sym} 1250 -1000 0 0 {name=L8
m=1
value=1n
footprint=1206
device=inductor}
C {devices/capa.sym} 1200 -1020 0 0 {name=C4
m=1
value=100f
footprint=1206
device="ceramic capacitor"}
C {devices/gnd.sym} 1200 -990 0 0 {name=l9 lab=GND}
C {devices/res.sym} 1250 -1150 0 0 {name=R6
value=200
footprint=1206
device=resistor
m=1}
C {devices/lab_wire.sym} 560 -720 0 0 {name=l10 sig_type=std_logic lab=vsp}
C {devices/lab_wire.sym} 690 -710 0 0 {name=l11 sig_type=std_logic lab=vgp}
C {devices/lab_wire.sym} 1080 -710 0 0 {name=l12 sig_type=std_logic lab=vsn}
C {devices/lab_wire.sym} 1210 -710 0 0 {name=l13 sig_type=std_logic lab=vgn}
